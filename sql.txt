-- Crear base de datos
CREATE DATABASE ControlMaterial;
GO

USE ControlMaterial;

-- Tabla de usuarios
CREATE TABLE Login (
    Id_Usuario INT PRIMARY KEY,
    Usuario VARCHAR(50) NOT NULL,
    Contrase√±a VARCHAR(50) NOT NULL
);

-- Tabla de departamentos
CREATE TABLE Departamentos (
    Id_Departamento INT PRIMARY KEY,
    Nombre_Departamento VARCHAR(50) NOT NULL
);

-- Tabla de tipos de suelo
CREATE TABLE Tipo_suelo (
    Id_Tipo INT PRIMARY KEY,
    Nombre_Tipo VARCHAR(50) NOT NULL
);

-- Tabla principal de reportes
CREATE TABLE Reportes (
    Id_ticket INT PRIMARY KEY,
    Id_Usuario INT NOT NULL,
    Departamento VARCHAR(50) NOT NULL,
    Fecha_asignacion DATE NOT NULL,
    Fecha_reparacion DATE NOT NULL,
    Colonia VARCHAR(100) NOT NULL,
    Tipo_suelo VARCHAR(50) NOT NULL,
    Direccion VARCHAR(200) NOT NULL,
    Reportante VARCHAR(100) NOT NULL,
    Telefono_reportante VARCHAR(20) NOT NULL,
    Reparador VARCHAR(100) NOT NULL,
    Material VARCHAR(100) NOT NULL,
    Imagen_antes VARBINARY(MAX),
    Imagen_despues VARBINARY(MAX),
    FOREIGN KEY (Id_Usuario) REFERENCES Login(Id_Usuario)
);